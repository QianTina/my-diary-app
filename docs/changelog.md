# 更新日志

## v2.0.0 (2026-01-27)

### 🎉 重大更新

#### 新增功能
- ✨ **标签系统**
  - 支持为每条日记添加多个标签
  - 标签云展示，按使用频率排序
  - 支持按标签筛选日记
  - 标签输入支持回车添加、退格删除

- 📝 **Markdown 支持**
  - 集成 `react-markdown` 库
  - 支持编辑/预览模式切换
  - 支持标题、列表、粗体、斜体、链接、代码、引用等语法
  - 自定义样式，保持界面一致性

- 💾 **数据导出/导入**
  - 导出为 JSON 格式（完整数据备份）
  - 导出为 Markdown 文件（可读性强）
  - 从 JSON 文件导入恢复数据
  - 文件名自动添加日期标识

- 🎨 **状态管理升级**
  - 使用 Zustand 替代 useState
  - 集中管理应用状态
  - 提供计算属性（过滤、标签统计）
  - 优化性能，减少不必要的重渲染

#### 改进
- 🔍 **搜索优化**
  - 显示匹配数量统计
  - 支持搜索和标签筛选组合使用

- 🎯 **用户体验**
  - 添加设置面板
  - 优化编辑模式的视觉反馈
  - 改进加载状态显示
  - 增强错误处理

#### 技术改进
- 📦 **依赖更新**
  - 新增 `zustand` (状态管理)
  - 新增 `react-markdown` (Markdown 渲染)

- 🏗️ **架构优化**
  - 创建 `store/` 目录存放状态管理
  - 创建 `components/` 目录存放可复用组件
  - 新增 `utils/export.ts` 处理导出逻辑
  - 扩展 `types.ts` 支持标签字段

- 🗄️ **数据库更新**
  - SQL schema 添加 `tags` 字段（text[] 类型）
  - 更新 `storage.ts` 支持标签的 CRUD 操作

#### 文档
- 📚 更新 `README.md` 添加完整的功能说明
- 📖 更新 `docs/design.md` 记录优化方向和实现
- 📝 新增 `docs/usage-guide.md` 详细使用指南
- 🎯 新增 `docs/features.md` 功能详解
- 📋 新增 `docs/changelog.md` 更新日志
- 🔧 新增 `.env.example` 环境变量模板

---

## v1.0.0 (初始版本)

### 核心功能
- ✅ 日记 CRUD 操作（新增、查看、编辑、删除）
- ✅ 实时搜索过滤
- ✅ 草稿自动保存
- ✅ LocalStorage + Supabase 双模式数据持久化
- ✅ 响应式 UI 设计（Tailwind CSS）
- ✅ 加载状态和错误处理

### 技术栈
- React 19 + TypeScript
- Vite 构建工具
- Tailwind CSS
- Supabase (可选)

---

## 未来计划

### v3.0.0 (计划中)
- 📅 日历视图
- 🖼️ 图片上传支持
- 🎨 主题切换（深色模式）
- 📱 PWA 支持
- 🔐 用户认证系统
- 🌐 多语言支持
- 📊 统计分析（日记数量、标签使用等）
- 🔔 提醒功能
- 📌 置顶日记
- ⭐ 收藏功能
