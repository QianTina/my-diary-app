# 功能路线图 Feature Roadmap

## 📋 功能优先级分类

---

## 🌟 高优先级功能 High Priority Features

### 1. 日历视图 Calendar View ⭐⭐⭐⭐⭐
**状态**: 待开发 To Do

**描述**: 以日历形式展示日记分布，快速定位特定日期的日记。

**功能点**:
- 📅 月历视图，显示每天是否有日记
- 🎨 根据日记数量或心情显示不同颜色/图标
- 🔍 点击日期查看当天的日记列表
- 📊 显示当月统计（总日记数、连续天数、心情分布）
- ⬅️➡️ 切换月份（上一月/下一月）
- 📱 响应式设计（移动端和桌面端）
- 🎯 高亮今天和有日记的日期
- 📈 类似 GitHub 贡献图的视觉效果

**技术实现**:
- 使用日历组件库（如 react-calendar 或自定义）
- 按日期分组日记数据
- 颜色映射（无日记、1篇、2-3篇、4+篇）
- 心情图标叠加显示

**预计工作量**: 2-3天

---

### 2. 纸质日记本体验 Paper Diary Experience ⭐⭐⭐⭐⭐
**状态**: 待开发 To Do

**描述**: 将数字日记打造成真实纸质日记本的体验，包括纸张质感、翻页动画、多日记本管理等。

**核心功能**:

#### 📖 纸质质感 Paper Texture
- 纸张背景纹理（牛皮纸、方格纸、横线纸、空白纸、点阵纸）
- 纸张边缘效果（撕裂边、装订孔、书签）
- 手写字体选项（多种手写风格字体）
- 墨水效果（可选的笔迹效果）
- 纸张老化效果（泛黄、折痕、咖啡渍等装饰）

#### 📚 多日记本管理 Multiple Notebooks
- 创建多个独立的日记本
- 每个日记本可以设置：
  - 📕 封面颜色/图案
  - 📝 日记本名称（如"工作日记"、"旅行日记"、"感恩日记"）
  - 🎨 默认纸张样式
  - ✍️ 默认字体
  - 🏷️ 专属标签
- 日记本列表/网格视图
- 日记本之间切换
- 日记本归档功能

#### 📄 翻页动画 Page Flip Animation
- 3D 翻页效果（类似真实翻书）
- 左右滑动翻页（移动端）
- 键盘方向键翻页（桌面端）
- 页码显示
- 书签功能（快速跳转到某一页）
- 翻页音效（可选）

#### 🎨 自定义样式 Customization
- **纸张样式库**:
  - 经典白纸
  - 牛皮纸
  - 方格纸（5mm/10mm）
  - 横线纸（宽行/窄行）
  - 点阵纸
  - 音乐五线谱纸
  - 康奈尔笔记纸
  
- **字体库**:
  - 手写风格（楷体、行书、草书）
  - 打字机风格
  - 衬线字体（宋体、Times New Roman）
  - 无衬线字体（黑体、Arial）
  - 等宽字体（代码风格）
  
- **装饰元素**:
  - 贴纸/印章
  - 手绘涂鸦
  - 胶带装饰
  - 回形针/便签
  - 压花效果

#### 📱 阅读模式 Reading Mode
- 全屏沉浸式阅读
- 自动翻页（定时）
- 夜间阅读模式（护眼）
- 字体大小调节
- 行间距调节

**技术实现**:
- CSS 纹理和滤镜（纸张效果）
- CSS 3D transforms（翻页动画）
- 或使用 turn.js / react-pageflip 库
- Canvas 绘制装饰元素
- Web Fonts API（自定义字体）
- 日记本数据模型扩展（notebook_id）

**数据库架构变更**:
```sql
-- 日记本表
CREATE TABLE notebooks (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES auth.users(id),
  name TEXT NOT NULL,
  cover_color TEXT,
  cover_image TEXT,
  paper_style TEXT DEFAULT 'classic',
  font_family TEXT DEFAULT 'default',
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- 日记表添加 notebook_id
ALTER TABLE diaries ADD COLUMN notebook_id UUID REFERENCES notebooks(id);
```

**预计工作量**: 5-7天

**参考应用**:
- Day One（iOS 日记应用）
- Journey（跨平台日记应用）
- Notion（页面样式自定义）

---

### 3. 心情趋势图 Mood Trends ⭐⭐⭐⭐⭐
**状态**: 待开发 To Do

**描述**: 可视化展示心情变化趋势，帮助用户了解情绪模式。

**功能点**:
- 📈 折线图显示心情变化（按周/月/年）
- 🎨 心情分布饼图
- 📊 心情统计卡片
- 🔍 点击数据点查看对应日记
- 📅 时间范围选择器
- 💡 心情洞察（如"本月最常见心情"）
- 📱 响应式图表

**技术实现**:
- 使用图表库（Chart.js、Recharts 或 ECharts）
- 心情数据聚合和计算
- 时间序列数据处理

**预计工作量**: 2-3天

---

## 🎯 中优先级功能 Medium Priority Features

### 4. 日记模板 Templates ⭐⭐⭐⭐
**状态**: 待开发 To Do

**描述**: 提供预设的日记模板，降低写作门槛，提供灵感。

**功能点**:
- 📝 内置模板库：
  - 感恩日记（今天感恩的三件事）
  - 目标日记（今日目标、完成情况、反思）
  - 旅行日记（地点、天气、见闻、照片）
  - 梦境日记（梦境记录、情绪、符号）
  - 读书笔记（书名、摘录、感想）
  - 工作日志（任务、进展、问题、计划）
  - 健康日记（饮食、运动、睡眠、体重）
- ➕ 自定义模板（用户创建）
- 🎨 模板预览
- 📋 一键应用模板
- 💾 保存为模板
- 🏷️ 模板分类和标签

**预计工作量**: 3-4天

---

### 5. 标签管理 Tag Management ⭐⭐⭐
**状态**: 待开发 To Do

**描述**: 完善的标签管理功能，优化标签使用体验。

**功能点**:
- ✏️ 重命名标签（批量更新所有使用该标签的日记）
- 🔀 合并标签（将多个标签合并为一个）
- 🗑️ 删除标签（从所有日记中移除）
- 🎨 标签颜色自定义
- 📊 标签使用统计（使用次数、最近使用）
- 🔍 标签搜索和过滤
- 📌 常用标签置顶
- 🏷️ 标签分组/分类

**预计工作量**: 2-3天

---

### 6. 日记分享 Diary Sharing ⭐⭐⭐
**状态**: 待开发 To Do

**描述**: 导出和分享单篇或多篇日记。

**功能点**:
- 📤 导出格式：
  - PDF（带样式）
  - Markdown
  - 纯文本
  - HTML
  - 图片（长图）
- 🔗 生成分享链接（可选，需要后端支持）
- 🔒 分享权限控制（公开/密码保护/限时）
- 📧 通过邮件分享
- 💾 批量导出（选中多篇日记）
- 🎨 导出样式自定义

**预计工作量**: 3-4天

---

## 📌 低优先级功能 Low Priority Features

### 7. 提醒功能 Reminders ⭐⭐
**状态**: 待开发 To Do

**描述**: 提醒用户定期写日记。

**功能点**:
- ⏰ 每日提醒（自定义时间）
- 📅 自定义提醒频率（每天/每周/自定义）
- 🔔 浏览器通知
- 📧 邮件提醒（可选）
- 🎯 连续写作目标提醒
- 🏆 成就解锁提醒

**预计工作量**: 2-3天

---

### 8. 富文本编辑器增强 Enhanced Editor ⭐⭐
**状态**: 待开发 To Do

**描述**: 增强写作编辑器功能。

**功能点**:
- 🎨 所见即所得编辑器（WYSIWYG）
- 📝 Markdown 实时预览
- 🖼️ 拖拽上传图片
- 📎 插入链接、表格、代码块
- ✍️ 手写输入支持（触屏设备）
- 🎤 语音输入（语音转文字）
- 📊 插入图表
- 🔤 字数统计和阅读时间估算

**预计工作量**: 4-5天

---

### 9. 附件支持 Attachments ⭐
**状态**: 待开发 To Do

**描述**: 支持上传和管理各类文件附件。

**功能点**:
- 📎 支持文件类型：
  - 文档（PDF、Word、Excel）
  - 音频（MP3、WAV）
  - 视频（MP4、MOV）
  - 其他文件
- 📦 文件管理器
- 🗂️ 附件预览
- 💾 云存储集成（Supabase Storage）
- 📊 存储空间管理

**预计工作量**: 3-4天

---

### 10. 协作功能 Collaboration ⭐
**状态**: 待开发 To Do

**描述**: 与他人共享日记本，协作写作。

**功能点**:
- 👥 邀请协作者
- 🔒 权限管理（只读/编辑/管理员）
- 💬 评论功能
- 📝 协作编辑（实时或异步）
- 📢 活动通知
- 🔄 版本历史

**预计工作量**: 7-10天（需要复杂的后端支持）

---

## 🎨 UI/UX 增强 UI/UX Enhancements

### 11. 主题商店 Theme Store
- 🎨 预设主题包
- 🌈 自定义配色方案
- 🖼️ 背景图片/渐变
- 💾 主题导入/导出

### 12. 动画和过渡效果优化
- ✨ 页面切换动画
- 🎭 微交互动画
- 🌊 流畅的滚动效果
- 🎪 加载动画优化

### 13. 快捷键系统
- ⌨️ 全局快捷键
- 📝 编辑器快捷键
- 🔍 搜索快捷键
- 📋 自定义快捷键

---

## 🔧 技术优化 Technical Improvements

### 14. 性能优化
- ⚡ 虚拟滚动（大量日记）
- 💾 离线支持（PWA）
- 🗜️ 图片压缩和懒加载
- 📦 代码分割和懒加载

### 15. 数据同步和备份
- ☁️ 自动云备份
- 🔄 多设备同步
- 📥 自动导出备份
- 🔐 加密备份

### 16. 国际化
- 🌍 多语言支持
- 🕐 时区处理
- 📅 日期格式本地化
- 💱 货币和单位本地化

---

## 📊 数据分析和洞察 Analytics & Insights

### 17. 写作分析
- 📈 写作频率分析
- 📊 字数统计和趋势
- ⏱️ 写作时间分析
- 🏆 写作成就系统

### 18. AI 功能（未来）
- 🤖 AI 写作建议
- 💡 智能标签推荐
- 📝 自动摘要生成
- 🔍 智能搜索（语义搜索）
- 😊 情感分析

---

## 🗓️ 开发时间线 Development Timeline

### Phase 1: 核心体验提升（当前阶段）
- ✅ 搜索功能（已完成）
- 🔄 日历视图（进行中）
- 📖 纸质日记本体验
- 📈 心情趋势图

**预计完成时间**: 2-3周

### Phase 2: 功能丰富
- 日记模板
- 标签管理
- 日记分享
- 提醒功能

**预计完成时间**: 2-3周

### Phase 3: 高级功能
- 富文本编辑器增强
- 附件支持
- 主题商店
- 性能优化

**预计完成时间**: 3-4周

### Phase 4: 未来展望
- 协作功能
- AI 功能
- 国际化
- 移动应用

**预计完成时间**: 待定

---

## 💬 用户反馈收集 User Feedback

如果你有任何功能建议或想法，欢迎添加到这个文档中！

**建议格式**:
```markdown
### 功能名称
**描述**: 简短描述
**为什么需要**: 使用场景和价值
**功能点**: 具体功能列表
```

---

## 📝 更新日志 Changelog

- 2025-01-28: 创建功能路线图
- 2025-01-28: 添加"纸质日记本体验"功能设计
- 2025-01-28: 添加日历视图功能规划
