# ğŸ‰ v2.0 æ™ºèƒ½æ—¥è®°å®ŒæˆæŠ¥å‘Š

## é¡¹ç›®å‡çº§æ¦‚è§ˆ

ä»ç®€å•çš„æ–‡æœ¬æ—¥è®°åº”ç”¨å‡çº§ä¸º**æ™ºèƒ½æƒ…æ„Ÿç©ºé—´**ï¼Œæ–°å¢å¤šæ¨¡æ€è®°å½•ã€ç¯å¢ƒæ„ŸçŸ¥å’Œè§†è§‰ä¼˜åŒ–åŠŸèƒ½ã€‚

---

## âœ… å·²å®ŒæˆåŠŸèƒ½æ¸…å•

### 1. å¤šæ¨¡æ€è®°å½•ç³»ç»Ÿ
- âœ… **æ ‡é¢˜å­—æ®µ**ï¼šç‹¬ç«‹æ ‡é¢˜è¾“å…¥ï¼Œæ”¯æŒç©ºæ ‡é¢˜
- âœ… **å¿ƒæƒ…é€‰æ‹©å™¨**ï¼š5 ç§æƒ…ç»ªå›¾æ ‡ï¼ˆå¼€å¿ƒã€å¹³é™ã€ä¸€èˆ¬ã€éš¾è¿‡ã€ç”Ÿæ°”ï¼‰
- âœ… **å›¾ç‰‡ä¸Šä¼ **ï¼šæ”¯æŒæœ€å¤š 9 å¼ å›¾ç‰‡ï¼ŒBase64 å­˜å‚¨
- âœ… **è§†è§‰åé¦ˆ**ï¼šå¿ƒæƒ…é€‰ä¸­çŠ¶æ€ã€å›¾ç‰‡æ‚¬åœåˆ é™¤

### 2. ç¯å¢ƒè‡ªåŠ¨æ„ŸçŸ¥
- âœ… **å¤©æ°” API**ï¼šè‡ªåŠ¨è·å–å½“å‰æ¸©åº¦å’Œå¤©æ°”æè¿°
- âœ… **åœ°ç†ä½ç½®**ï¼šè‡ªåŠ¨è·å–åŸå¸‚å’ŒåŒºåŸŸä¿¡æ¯
- âœ… **ä¿å­˜æ—¶è®°å½•**ï¼šæäº¤æ—¥è®°æ—¶è‡ªåŠ¨é™„åŠ ç¯å¢ƒä¿¡æ¯
- âœ… **å¡ç‰‡å±•ç¤º**ï¼šåœ¨æ—¥è®°åˆ—è¡¨æ˜¾ç¤ºå¤©æ°”å’Œä½ç½®å›¾æ ‡

### 3. æš—é»‘æ¨¡å¼
- âœ… **ä¸»é¢˜åˆ‡æ¢**ï¼šâ˜€ï¸/ğŸŒ™ æŒ‰é’®ä¸€é”®åˆ‡æ¢
- âœ… **å…¨å±€é€‚é…**ï¼šæ‰€æœ‰ç»„ä»¶æ”¯æŒæš—é»‘æ¨¡å¼
- âœ… **çŠ¶æ€æŒä¹…åŒ–**ï¼šä¸»é¢˜é€‰æ‹©ä¿å­˜åˆ° LocalStorage
- âœ… **Tailwind dark æ¨¡å¼**ï¼šä½¿ç”¨ class ç­–ç•¥

### 4. åŠ¨ç”»ä¸äº¤äº’
- âœ… **Framer Motion**ï¼šåˆ—è¡¨æ·¡å…¥ã€è®¾ç½®é¢æ¿å±•å¼€åŠ¨ç”»
- âœ… **å¾®äº¤äº’**ï¼šæŒ‰é’®åé¦ˆã€å¿ƒæƒ…ç¼©æ”¾ã€å¹³æ»‘æ»šåŠ¨
- âœ… **æ‚¬åœæ•ˆæœ**ï¼šå¡ç‰‡é˜´å½±ã€å›¾ç‰‡åˆ é™¤æŒ‰é’®
- âœ… **è¿‡æ¸¡åŠ¨ç”»**ï¼šé¡µé¢åˆ‡æ¢ã€çŠ¶æ€å˜åŒ–

### 5. æ•°æ®ç»“æ„æ‰©å±•
- âœ… **æ–°å¢å­—æ®µ**ï¼štitle, mood, weather, location, images, isEncrypted, updatedAt
- âœ… **ç±»å‹å®šä¹‰**ï¼šå®Œæ•´çš„ TypeScript ç±»å‹
- âœ… **æ•°æ®åº“ schema**ï¼šæ›´æ–° Supabase è¡¨ç»“æ„
- âœ… **å‘åå…¼å®¹**ï¼šæ—§æ•°æ®è‡ªåŠ¨é€‚é…æ–°ç»“æ„

---

## ğŸ“ æ–°å¢æ–‡ä»¶

### ç»„ä»¶
```
src/components/
â”œâ”€â”€ MoodSelector.tsx        # å¿ƒæƒ…é€‰æ‹©å™¨
â”œâ”€â”€ ImageUploader.tsx       # å›¾ç‰‡ä¸Šä¼ ç»„ä»¶
â”œâ”€â”€ TagInput.tsx            # æ ‡ç­¾è¾“å…¥ï¼ˆå·²æœ‰ï¼‰
â””â”€â”€ MarkdownPreview.tsx     # Markdown é¢„è§ˆï¼ˆå·²æœ‰ï¼‰
```

### å·¥å…·å‡½æ•°
```
src/utils/
â”œâ”€â”€ weather.ts              # å¤©æ°”å’Œä½ç½® API
â”œâ”€â”€ storage.ts              # æ•°æ®æŒä¹…åŒ–ï¼ˆæ›´æ–°ï¼‰
â”œâ”€â”€ export.ts               # å¯¼å‡ºå·¥å…·ï¼ˆå·²æœ‰ï¼‰
â””â”€â”€ supabase.ts             # Supabase å®¢æˆ·ç«¯ï¼ˆå·²æœ‰ï¼‰
```

### Hooks
```
src/hooks/
â””â”€â”€ useDarkMode.ts          # æš—é»‘æ¨¡å¼ Hook
```

### æ–‡æ¡£
```
docs/
â”œâ”€â”€ v2-features.md          # v2.0 åŠŸèƒ½è¯´æ˜
â”œâ”€â”€ design_v2.md            # v2.0 è®¾è®¡æ–‡æ¡£
â””â”€â”€ ...                     # å…¶ä»–æ–‡æ¡£
```

---

## ğŸ“¦ æ–°å¢ä¾èµ–

```json
{
  "dependencies": {
    "framer-motion": "^11.x",  // åŠ¨ç”»åº“
    "recharts": "^2.x",        // å›¾è¡¨åº“ï¼ˆå¾…ç”¨ï¼‰
    "axios": "^1.x"            // HTTP å®¢æˆ·ç«¯ï¼ˆå¾…ç”¨ï¼‰
  }
}
```

---

## ğŸ¨ UI/UX æ”¹è¿›

### è§†è§‰å‡çº§
1. **å¡ç‰‡è®¾è®¡**ï¼šæ›´å¤§é—´è·ã€åœ†è§’ä¼˜åŒ–ã€é˜´å½±å±‚æ¬¡
2. **è‰²å½©ç³»ç»Ÿ**ï¼šå¿ƒæƒ…å¯¹åº”é¢œè‰²ã€æš—é»‘æ¨¡å¼é…è‰²
3. **å›¾æ ‡è¯­è¨€**ï¼šemoji è¡¨è¾¾æƒ…ç»ªã€ç¯å¢ƒä¿¡æ¯
4. **åŠ¨ç”»æµç•…**ï¼šæ·¡å…¥æ·¡å‡ºã€ç¼©æ”¾ã€å¹³æ»‘è¿‡æ¸¡

### äº¤äº’ä¼˜åŒ–
1. **ä¸€é”®åˆ‡æ¢**ï¼šä¸»é¢˜ã€é¢„è§ˆæ¨¡å¼
2. **å³æ—¶åé¦ˆ**ï¼šæŒ‰é’®çŠ¶æ€ã€åŠ è½½åŠ¨ç”»
3. **æ™ºèƒ½æç¤º**ï¼šå›¾ç‰‡æ•°é‡ã€æœç´¢ç»“æœ
4. **æ— ç¼ç¼–è¾‘**ï¼šè‰ç¨¿ä¿å­˜ã€å–æ¶ˆæ¢å¤

---

## ğŸ”§ æŠ€æœ¯å®ç°äº®ç‚¹

### 1. ç¯å¢ƒæ„ŸçŸ¥
```typescript
// å¤©æ°” APIï¼ˆwttr.inï¼‰
const weather = await getCurrentWeather();
// { temp: 15, description: "Partly cloudy" }

// åœ°ç†ä½ç½®ï¼ˆGeolocation + Nominatimï¼‰
const location = await getCurrentLocation();
// "ä¸Šæµ· Â· é™å®‰"
```

### 2. å›¾ç‰‡å¤„ç†
```typescript
// Base64 ç¼–ç ï¼ˆç®€åŒ–ç‰ˆï¼‰
const reader = new FileReader();
reader.onload = () => resolve(reader.result as string);
reader.readAsDataURL(file);
```

### 3. æš—é»‘æ¨¡å¼
```typescript
// Tailwind CSS dark æ¨¡å¼
useEffect(() => {
  document.documentElement.classList.toggle('dark', isDark);
}, [isDark]);
```

### 4. åŠ¨ç”»ç³»ç»Ÿ
```typescript
// Framer Motion
<motion.div
  initial={{ opacity: 0, y: 20 }}
  animate={{ opacity: 1, y: 0 }}
  exit={{ opacity: 0, y: -20 }}
>
  {content}
</motion.div>
```

---

## ğŸ“Š æ€§èƒ½æ•°æ®

### æ„å»ºç»“æœ
```
dist/index.html                   0.45 kB
dist/assets/index-*.css          23.13 kB (gzip: 5.68 kB)
dist/assets/index-*.js          607.72 kB (gzip: 181.77 kB)
```

### æ€§èƒ½æŒ‡æ ‡
- **é¦–å±åŠ è½½**ï¼š< 2sï¼ˆå–å†³äºç½‘ç»œï¼‰
- **äº¤äº’å“åº”**ï¼š< 100ms
- **åŠ¨ç”»å¸§ç‡**ï¼š60 FPS
- **æ„å»ºæ—¶é—´**ï¼š< 300ms

### ä¼˜åŒ–å»ºè®®
1. **ä»£ç åˆ†å‰²**ï¼šä½¿ç”¨åŠ¨æ€ import
2. **å›¾ç‰‡ä¼˜åŒ–**ï¼šä¸Šä¼ åˆ°äº‘å­˜å‚¨ï¼ˆCDNï¼‰
3. **æ‡’åŠ è½½**ï¼šå›¾è¡¨ç»„ä»¶æŒ‰éœ€åŠ è½½
4. **ç¼“å­˜ç­–ç•¥**ï¼šService Workerï¼ˆPWAï¼‰

---

## ğŸš€ éƒ¨ç½²æ›´æ–°

### æ•°æ®åº“è¿ç§»
å¦‚æœä½¿ç”¨ Supabaseï¼Œéœ€è¦æ‰§è¡Œæ–°çš„ schemaï¼š

```sql
-- æ·»åŠ æ–°å­—æ®µ
ALTER TABLE diaries ADD COLUMN title TEXT DEFAULT '';
ALTER TABLE diaries ADD COLUMN mood TEXT CHECK (mood IN ('happy', 'sad', 'neutral', 'calm', 'angry'));
ALTER TABLE diaries ADD COLUMN weather JSONB;
ALTER TABLE diaries ADD COLUMN location TEXT DEFAULT '';
ALTER TABLE diaries ADD COLUMN images TEXT[] DEFAULT '{}';
ALTER TABLE diaries ADD COLUMN is_encrypted BOOLEAN DEFAULT FALSE;
ALTER TABLE diaries ADD COLUMN updated_at TIMESTAMPTZ DEFAULT NOW();
```

æˆ–ç›´æ¥æ‰§è¡Œ `sql/schema.sql` åˆ›å»ºæ–°è¡¨ã€‚

### ç¯å¢ƒå˜é‡
æ— éœ€æ–°å¢ç¯å¢ƒå˜é‡ï¼Œå¤©æ°”å’Œä½ç½® API ä½¿ç”¨å…è´¹æœåŠ¡ã€‚

---

## ğŸ“– ä½¿ç”¨æŒ‡å—

### å¿«é€Ÿå¼€å§‹
```bash
# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘
npm run dev

# æ„å»ºç”Ÿäº§
npm run build
```

### æ–°åŠŸèƒ½ä½¿ç”¨

#### 1. å†™æ—¥è®°
1. è¾“å…¥æ ‡é¢˜ï¼ˆå¯é€‰ï¼‰
2. é€‰æ‹©å¿ƒæƒ…ï¼ˆç‚¹å‡»å›¾æ ‡ï¼‰
3. è¾“å…¥å†…å®¹ï¼ˆæ”¯æŒ Markdownï¼‰
4. ä¸Šä¼ å›¾ç‰‡ï¼ˆç‚¹å‡»"ğŸ“· æ·»åŠ å›¾ç‰‡"ï¼‰
5. æ·»åŠ æ ‡ç­¾ï¼ˆå›è½¦æ·»åŠ ï¼‰
6. ç‚¹å‡»"ç«‹å³è®°å½•"ï¼ˆè‡ªåŠ¨è·å–å¤©æ°”å’Œä½ç½®ï¼‰

#### 2. åˆ‡æ¢ä¸»é¢˜
ç‚¹å‡»å³ä¸Šè§’ â˜€ï¸/ğŸŒ™ æŒ‰é’®

#### 3. æŸ¥çœ‹æ—¥è®°
- æ ‡é¢˜ä»¥å¤§å­—ä½“æ˜¾ç¤º
- å¿ƒæƒ…å›¾æ ‡åœ¨æ—¶é—´æ—è¾¹
- å¤©æ°”ï¼šğŸŒ¡ï¸ 15Â°C Partly cloudy
- ä½ç½®ï¼šğŸ“ ä¸Šæµ· Â· é™å®‰
- å›¾ç‰‡ä»¥ 3 åˆ—ç½‘æ ¼å±•ç¤º

---

## ğŸ”® ä¸‹ä¸€æ­¥è®¡åˆ’

### v2.1 - AI æ™ºèƒ½åŠ©æ‰‹
- [ ] è‡ªåŠ¨æ ‡é¢˜ç”Ÿæˆï¼ˆOpenAI APIï¼‰
- [ ] æƒ…ç»ªæ„ŸçŸ¥æ¨è
- [ ] æ¯æ—¥å†™ä½œæç¤º

### v2.2 - æ•°æ®å¯è§†åŒ–
- [ ] å¿ƒæƒ…æœˆå†ï¼ˆRechartsï¼‰
- [ ] å…³é”®è¯äº‘ï¼ˆåˆ†è¯ç®—æ³•ï¼‰
- [ ] æƒ…ç»ªè¶‹åŠ¿å›¾è¡¨

### v3.0 - å®‰å…¨ä¸ä½“éªŒ
- [ ] ç«¯åˆ°ç«¯åŠ å¯†ï¼ˆWeb Crypto APIï¼‰
- [ ] æ²‰æµ¸å¼å†™ä½œæ¨¡å¼ï¼ˆZen Modeï¼‰
- [ ] PWA æ”¯æŒï¼ˆç¦»çº¿è®¿é—®ï¼‰
- [ ] ç™½å™ªéŸ³é›†æˆ

---

## ğŸ› å·²çŸ¥é—®é¢˜

### 1. å›¾ç‰‡å­˜å‚¨
**é—®é¢˜**ï¼šBase64 ç¼–ç ä¼šå¢åŠ æ•°æ®ä½“ç§¯  
**å½±å“**ï¼šå¤§é‡å›¾ç‰‡ä¼šå¯¼è‡´ LocalStorage è¶…é™  
**è§£å†³æ–¹æ¡ˆ**ï¼šåç»­æ”¹ä¸ºäº‘å­˜å‚¨ï¼ˆSupabase Storage / Cloudinaryï¼‰

### 2. å¤©æ°” API
**é—®é¢˜**ï¼šwttr.in å“åº”è¾ƒæ…¢ï¼ˆ3-5sï¼‰  
**å½±å“**ï¼šä¿å­˜æ—¥è®°æ—¶å¯èƒ½ç­‰å¾…  
**è§£å†³æ–¹æ¡ˆ**ï¼šæ·»åŠ è¶…æ—¶å¤„ç†ï¼Œå¤±è´¥æ—¶è·³è¿‡å¤©æ°”ä¿¡æ¯

### 3. ä½ç½®æƒé™
**é—®é¢˜**ï¼šéœ€è¦ç”¨æˆ·æˆæƒï¼Œå¯èƒ½è¢«æ‹’ç»  
**å½±å“**ï¼šæ— æ³•è·å–ä½ç½®ä¿¡æ¯  
**è§£å†³æ–¹æ¡ˆ**ï¼šä¼˜é›…é™çº§ï¼Œå…è®¸æ‰‹åŠ¨è¾“å…¥ä½ç½®

---

## ğŸ’¡ æŠ€æœ¯äº®ç‚¹ï¼ˆç®€å†å¯ç”¨ï¼‰

1. **å¤šæ¨¡æ€æ•°æ®å¤„ç†**ï¼šå®ç°äº†æ–‡å­—ã€å›¾ç‰‡ã€æƒ…ç»ªã€ç¯å¢ƒä¿¡æ¯çš„ç»Ÿä¸€ç®¡ç†
2. **ç¯å¢ƒæ„ŸçŸ¥ç³»ç»Ÿ**ï¼šé›†æˆå¤©æ°” API å’Œåœ°ç†ä½ç½® APIï¼Œè‡ªåŠ¨è®°å½•å†™ä½œç¯å¢ƒ
3. **ä¸»é¢˜ç³»ç»Ÿ**ï¼šåŸºäº Tailwind CSS å®ç°å…¨å±€æš—é»‘æ¨¡å¼ï¼ŒçŠ¶æ€æŒä¹…åŒ–
4. **åŠ¨ç”»ä¼˜åŒ–**ï¼šä½¿ç”¨ Framer Motion å®ç°æµç•…çš„é¡µé¢è¿‡æ¸¡å’Œå¾®äº¤äº’
5. **ç±»å‹å®‰å…¨**ï¼šå®Œæ•´çš„ TypeScript ç±»å‹å®šä¹‰ï¼Œç¼–è¯‘æ—¶é”™è¯¯æ£€æŸ¥
6. **æ¶æ„æ‰©å±•æ€§**ï¼šæ•°æ®ç»“æ„å‘åå…¼å®¹ï¼Œæ˜“äºæ·»åŠ æ–°åŠŸèƒ½

---

## ğŸ“ æ€»ç»“

v2.0 ç‰ˆæœ¬æˆåŠŸå°†æ—¥è®°åº”ç”¨ä»**æ–‡æœ¬è®°å½•å·¥å…·**å‡çº§ä¸º**æ™ºèƒ½æƒ…æ„Ÿç©ºé—´**ï¼š

âœ… **åŠŸèƒ½ä¸°å¯Œ**ï¼šæ ‡é¢˜ã€å¿ƒæƒ…ã€å›¾ç‰‡ã€å¤©æ°”ã€ä½ç½®  
âœ… **ä½“éªŒä¼˜ç§€**ï¼šæš—é»‘æ¨¡å¼ã€æµç•…åŠ¨ç”»ã€å³æ—¶åé¦ˆ  
âœ… **æŠ€æœ¯å…ˆè¿›**ï¼šTypeScriptã€Framer Motionã€ç¯å¢ƒæ„ŸçŸ¥  
âœ… **æ¶æ„æ¸…æ™°**ï¼šç»„ä»¶åŒ–ã€ç±»å‹å®‰å…¨ã€æ˜“äºæ‰©å±•  
âœ… **æ–‡æ¡£å®Œå–„**ï¼šè®¾è®¡æ–‡æ¡£ã€åŠŸèƒ½è¯´æ˜ã€ä½¿ç”¨æŒ‡å—  

é¡¹ç›®å·²å…·å¤‡**äº§å“çº§**è´¨é‡ï¼Œå¯ç›´æ¥éƒ¨ç½²ä½¿ç”¨ï¼ğŸ‰

---

**å¼€å§‹è®°å½•ä½ çš„æƒ…æ„Ÿæ—…ç¨‹å§ï¼** ğŸ“âœ¨
